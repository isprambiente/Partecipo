// error-page@0.0.3 downloaded from https://ga.jspm.io/npm:error-page@0.0.3/error-page.js

import e from"http";import t from"util";var r={};r=ErrorPage;var a=e,o=a.STATUS_CODES,n=t;function ErrorPage(e,t,r){r=r||{};return error;function error(){var a,n,s,c,u;for(var f=0;f<arguments.length;f++){var i=arguments[f];switch(typeof i){case"number":a=i;break;case"string":t.template&&t.template.has&&t.template.has(i)?u=i:c=i;break;case"function":u=i;break;case"object":if(!i)break;if(i instanceof Error)n=i;else{s=s||{};Object.keys(i).forEach((function(e){"statusCode"!==e&&(s[e]=i[e])}))}i.statusCode&&!a&&(a=i.statusCode);break}}a||(a=500);c||(c=n?r.debug&&n.stack?n.stack:n.message:o[a]);var d=Math.floor(a/100)+"xx";u=u||r[a]||r[d]||r["*"]||defHandler;"string"===typeof u&&(u=t.template&&t.template.has&&t.template.has(u)?function(e){return function(t,r,o){r.template(e,o,a)}}(u):function(e){return function(t,r,a){r.end(e)}}(u));t.statusCode=a;s&&Object.keys(s).forEach((function(e){t.setHeader(e,s[e])}));var l={message:c,code:a,statusCode:a,error:n,options:r,request:e.method+" "+e.url,headers:e.headers,url:e.url};r.debug&&(l.stack=new Error(c).stack);return u(e,t,l)}}function defHandler(e,t,r){t.setHeader("content-type","text/plain");var a,o=r.code+" "+r.message+" "+e.url;a=n.inspect(r);console.error((new Date).toISOString()+" "+o);r.options.debug&&(o+="\n"+r.stack+"\n"+a);t.end(o+"\n")}var s=r;export default s;

